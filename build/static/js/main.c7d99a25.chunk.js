(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{22:function(e,t,a){},24:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a(14),c=a.n(s),o=(a(22),a(5)),r=a.n(o),l=a(15),i=a(2),u=(a(24),a(0)),b=function(e){return Object(u.jsxs)("div",{className:e.className,children:[Object(u.jsx)("label",{className:"".concat(e.className,"-label"),children:"".concat(e.label,": ")}),Object(u.jsx)("select",{className:"".concat(e.className,"-selections"),value:e.value,onChange:e.onChange,disabled:e.disabled,children:e.optionArray.map((function(t,a){return Object(u.jsx)("option",{value:e.valueFunc?e.valueFunc(t):t,className:"".concat(e.className,"-option"),children:e.displayFunc?e.displayFunc(t):t},a)}))})]})},d=function(e){return Object(u.jsxs)("div",{className:e.className,children:[Object(u.jsx)("label",{className:"".concat(e.className,"-label"),children:"".concat(e.label,": ")}),Object(u.jsx)("input",{className:"".concat(e.className,"-input"),value:e.value,placeholder:e.placeholder,onChange:e.onChange,type:e.type,checked:e.checked,disabled:e.disabled,children:e.name})]})},h=a(16),j=a.n(h).a.create({baseURL:"/"}),m=(a(44),function(e){var t=e.children;return Object(u.jsx)("div",{className:"modal",children:Object(u.jsx)("div",{className:"modal-container-styles",children:t})})}),p=a(48);var v=function(){var e=function(e){var t="".concat(e.getFullYear()),a="".concat(e.getMonth()+1),n="".concat(e.getDate());return e.getMonth()<=9&&(a="0"+a),e.getDate()<=9&&(n="0"+n),t+a+n},t=function(e,t,a){return"".concat(e,":").concat(t," ").concat(a)},a=function(){var e=new Date((new Date).toLocaleString("en-US",{timeZone:"America/Vancouver"})),t=new Date(e);t.setDate(t.getDate()+1);var a=new Date(e);a.setDate(a.getDate()+2);var n=new Date(e);return n.setDate(n.getDate()+3),[e,t,a,n]}(),s=["January","February","March","April","May","June","July","August","September","October","November","December"],c=Object(n.useState)(""),o=Object(i.a)(c,2),h=o[0],v=o[1],g=Object(n.useState)(""),O=Object(i.a)(g,2),f=O[0],y=O[1],x=Object(n.useState)(e(a[2])),N=Object(i.a)(x,2),w=N[0],k=N[1],C=Object(n.useState)("07"),D=Object(i.a)(C,2),A=D[0],S=D[1],F=Object(n.useState)("00"),M=Object(i.a)(F,2),B=M[0],P=M[1],U=Object(n.useState)("am"),J=Object(i.a)(U,2),L=J[0],Y=J[1],G=Object(n.useState)(0),T=Object(i.a)(G,2),W=T[0],I=T[1],R=Object(n.useState)(!0),E=Object(i.a)(R,2),q=E[0],z=E[1],H=Object(n.useState)(!1),K=Object(i.a)(H,2),V=K[0],Z=K[1],Q=function(){var e=Object(l.a)(r.a.mark((function e(){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z(!0),e.prev=1,e.next=4,j.post("/book",{username:h,password:f,gym:W,date:w,time:"".concat(t(A,B,L)),refresh:q});case 4:a=e.sent,alert(a.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),alert(e.t0.message);case 11:Z(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("div",{className:"title",children:Object(u.jsx)("h1",{children:"UBC GYM BOOKING APP"})}),Object(u.jsxs)("form",{className:"form",children:[Object(u.jsx)("div",{className:"text-input",children:Object(u.jsx)(d,{className:"cwl",label:"CWL",value:h,placeholder:"CWL",onChange:function(e){v(e.target.value)},type:"text",disabled:V})}),Object(u.jsx)("div",{className:"text-input",children:Object(u.jsx)(d,{className:"password",label:"Password",value:f,placeholder:"Password",onChange:function(e){y(e.target.value)},type:"password",disabled:V})}),Object(u.jsx)("div",{className:"dropdown-input",children:Object(u.jsx)(b,{className:"date",label:"Date",value:w,onChange:function(e){k(e.target.value)},optionArray:a,displayFunc:function(e){return"".concat(e.getDate()," ").concat(s[e.getMonth()]," ").concat(e.getFullYear())},valueFunc:e,disabled:V})}),Object(u.jsx)("div",{className:"dropdown-input",children:Object(u.jsx)(b,{className:"hour",label:"Hour",value:A,onChange:function(e){S(e.target.value)},optionArray:["01","02","03","04","05","06","07","08","09","10","11","12"],disabled:V})}),Object(u.jsx)("div",{className:"dropdown-input",children:Object(u.jsx)(b,{className:"min",label:"Minutes",value:B,onChange:function(e){P(e.target.value)},optionArray:["00","30"],disabled:V})}),Object(u.jsx)("div",{className:"dropdown-input",children:Object(u.jsx)(b,{className:"ampm",label:"AM/PM",value:L,onChange:function(e){Y(e.target.value)},optionArray:["am","pm"],disabled:V})}),Object(u.jsx)("div",{className:"dropdown-input",children:Object(u.jsx)(b,{className:"gym",label:"Gym",value:W,onChange:function(e){I(e.target.value)},optionArray:["Arc","BirdCoop"],valueFunc:function(e){return"Arc"===e?0:"BirdCoop"===e?1:-1},disabled:V})}),Object(u.jsx)("div",{className:"text-input",children:Object(u.jsx)(d,{className:"refresh",label:"Refresh",placeholder:"Refresh",value:q,onChange:function(e){z(e.target.checked)},type:"checkbox",disabled:V})}),Object(u.jsx)("div",{className:"submit-button",onClick:V?null:Q,children:"Book"})]}),Object(u.jsxs)("div",{className:"alert",children:["This website is created to book UBC gym slots. UBC gym sessions get full as soon as they are open for booking. This app will spin up a browser on the server and will try to book your preferred slot. The connection stays alive for about 5 minutes and hence trying to book your slots 5 minutes before they go live is ideal. For example, if you are trying to book the 1 pm slot on the 31st of December that is avaiable for booking starting at 6pm on the 29th of December, you can go on this website on the 29th of December and request to book a slot at around 05:55 pm and check the refresh option. The browser that spins up on the server will have your booking open and will refresh right at 6 pm to book your slot for you. Please make sure that there is slot that is or will be available to be booked in about 5mins. Make sure your check your selections and credentials before booking. Errors can occur while booking and there is no gaurantee that your slot will be booked. Use at your own risk!!!",Object(u.jsx)("div",{className:"note",children:"Note: A virtual browser needs to be used on the backend at UBC GYM booking system does not have a public API."}),Object(u.jsx)("div",{className:"warning",children:"Warning: Your CWL passwords are not stored but are logged and can be viewed by the host and the developer of the website. Use at your own risk!!!"})]}),V&&Object(u.jsxs)(m,{children:["Booking in Progress!!!",Object(u.jsx)(p.a,{className:"spinner",spin:!0,style:{fontSize:"30px"}})]})]})};c.a.render(Object(u.jsx)(v,{}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.c7d99a25.chunk.js.map